webpackJsonp([20],{NHnr:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=t("IvJb"),o=t("kGj0"),r=t.n(o),i=t("9ab0"),c=t.n(i),l=(t("tqWA"),{render:function(){var e=this.$createElement,n=this._self._c||e;return n("div",{staticStyle:{"max-width":"1920px","min-width":"1440px"},attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]});var u=t("C7Lr")({data:function(){return{}},methods:{},computed:{},components:{},created:function(){}},l,!1,function(e){t("WwNm")},null,null).exports,s=t("zO6J"),m=t("rVsN"),p=t.n(m);var h=t("9rMa"),d={state:{list:[{muid:1,path:"/manager/index",component:"",mulevel:1,name:"首页",ischild:"false",child:[]},{muid:2,path:"/manager/stores",component:"",mulevel:1,name:"店铺管理",ischild:"false",child:[]},{muid:3,path:"/manager/dishes",component:"",mulevel:1,name:"商品管理",ischild:"false",child:[]},{muid:4,path:"",component:"",mulevel:1,name:"订单管理",ischild:"true",child:[{muid:12,path:"/manager/orders",component:"",mulevel:2,name:"订单处理",ischild:"false",fatheriId:4,child:[]},{muid:13,path:"/manager/orderSearch",component:"",mulevel:2,name:"订单查询",ischild:"false",fatheriId:4,child:[]}]},{muid:5,path:"/manager/comment",component:"",mulevel:1,name:"评价管理",ischild:"false",child:[]},{muid:6,path:"/manager/flux",component:"",mulevel:1,name:"流量分析",ischild:"false",child:[]},{muid:7,path:"/manager/money",component:"",mulevel:1,name:"资金状况",ischild:"false",child:[]},{muid:8,path:"/manager/actives",component:"",mulevel:1,name:"营销活动",ischild:"false",child:[]}]},mutations:{},actions:{},getters:{}};a.default.use(h.a);var f=new h.a.Store({state:{role:0,storesMessage:"",search:"",network:!0,loading:!1,showNotice:!0,token:""},getters:{storesMessage:function(e){return e.storesMessage},search:function(e){return e.search}},mutations:{changeNetwork:function(e,n){e.network=n}},actions:{changeNetwork:function(e,n){e.commit("changeNetwork",n)}},modules:{siderBar:d}});a.default.use(s.a);var g=new s.a({mode:"hash",routes:[{path:"/",redirect:"/manager/login"},{path:"/manager/index",name:"siderBar",component:function(e){return Promise.all([t.e(0),t.e(3)]).then(function(){var n=[t("LP3+")];e.apply(null,n)}.bind(this)).catch(t.oe)},children:[{path:"/manager/index",name:"index",component:function(e){return Promise.all([t.e(0),t.e(2)]).then(function(){var n=[t("2NXm")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/stores",name:"stores",component:function(e){return t.e(13).then(function(){var n=[t("qzOv")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/storesDetail",name:"storesDetail",component:function(e){return t.e(7).then(function(){var n=[t("FfL9")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/dishes",name:"dishes",component:function(e){return t.e(9).then(function(){var n=[t("+nu7")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/orders",name:"order",component:function(e){return Promise.all([t.e(0),t.e(4)]).then(function(){var n=[t("SC19")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/map",name:"map",component:function(e){return t.e(8).then(function(){var n=[t("1CMK")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/orderSearch",name:"orderSearch",component:function(e){return t.e(18).then(function(){var n=[t("3sKA")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/comment",name:"comment",component:function(e){return t.e(11).then(function(){var n=[t("CWjC")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/flux",name:"flux",component:function(e){return Promise.all([t.e(0),t.e(16)]).then(function(){var n=[t("HjIm")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/money",name:"money",component:function(e){return t.e(15).then(function(){var n=[t("EoAw")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/actives",name:"actives",component:function(e){return t.e(10).then(function(){var n=[t("wajO")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/activesDetail",name:"activesDetail",component:function(e){return t.e(14).then(function(){var n=[t("CvNv")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/refresh",name:"refresh",component:function(e){return t.e(17).then(function(){var n=[t("8Ryp")];e.apply(null,n)}.bind(this)).catch(t.oe)}}]},{path:"/manager/login",name:"login",component:function(e){return Promise.all([t.e(0),t.e(5)]).then(function(){var n=[t("Luci")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/applyPower",name:"applyPower",component:function(e){return Promise.all([t.e(0),t.e(6)]).then(function(){var n=[t("eNqb")];e.apply(null,n)}.bind(this)).catch(t.oe)}},{path:"/manager/error",name:"error",component:function(e){return t.e(12).then(function(){var n=[t("Kq85")];e.apply(null,n)}.bind(this)).catch(t.oe)}}]});g.beforeEach(function(e,n,t){if(!window.localStorage)return alert("浏览器版本过低,请换一个浏览器或者升级该浏览器"),!1;f.state.loading=!0,localStorage.getItem("token")?(console.info("表示用户已经是登陆状态，不需要刷新页面跑到登陆页面"),f.state.loading=!1,t()):(console.info("表示用户未登陆状态，第一次需要到登陆页面"),"/manager/login"==e.fullPath?(f.state.loading=!1,t()):(console.info("在未登陆时都是进入登陆的页面"),f.state.loading=!1,t("/manager/login")))});var v=g,y="https://management.yanss.cn",b=t("aozt"),w=function(e){Object(i.Message)({message:e,type:"error"})},k=function(){v.replace({path:"/manager/login",query:{redirect:v.currentRoute.fullPath}})},x=t.n(b).a.create({timeout:1e4});x.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",x.interceptors.request.use(function(e){var n=f.state.token||localStorage.getItem("token");return n&&(e.headers.Authorization=n),e},function(e){return p.a.error(e)}),x.interceptors.response.use(function(e){return 200===e.status?p.a.resolve(e):p.a.reject(e)},function(e){var n=e.response;if(n)return function(e,n){switch(e){case 401:k();break;case 403:w("登录过期，请重新登录"),localStorage.removeItem("token"),setTimeout(function(){k()},1e3);break;case 404:w("请求的资源不存在");break;default:console.log(n)}}(n.status,n.data.message),p.a.reject(n);f.commit("changeNetwork",!1)});var P=x,N={index:{index:function(e,n){return P.get(y+"/api/v1/manager/page",{storeId:n.storeId})},articleDetail:function(e,n){return P.get(y+"/topic/"+e,n)},login:function(e){return P.post(y+"/accesstoken",e)}},login:{login:function(e){return P.post(y+"/api/v2/store/user/login",e)}}};a.default.use(c.a),a.default.config.productionTip=!1,a.default.use(r.a),r.a.initAMapApiLoader({key:"aca0802c1fe6ef6f5834077344b1d0dc",plugin:["AMap.Geolocation","AMap.PolyEditor","AMap.PlaceSearch"],v:"1.4.4"}),a.default.prototype.$stamp=function(e,n){return new p.a(function(e,n){})},a.default.prototype.$api=N,a.default.directive("focus",function(e){e.querySelector("input").focus()}),a.default.directive("dbClick",{inserted:function(e,n){e.addEventListener("click",function(n){if(!e.disabled){e.disabled=!0;setTimeout(function(){e.disabled=!1},2e3)}})}}),new a.default({el:"#app",router:v,store:f,components:{App:u},template:"<App/>"})},WwNm:function(e,n){},tqWA:function(e,n){}},["NHnr"]);
//# sourceMappingURL=app.a65824c0d4e6be044962.js.map